# 社員情報管理モックアプリ仕様書

## 1. プロジェクト概要

### 1.1 目的
お客様への提案・確認用モックアプリとして、社員情報管理システムの基本的な画面イメージを提供する。

### 1.2 適用範囲
- ログイン画面
- ホーム画面（ダッシュボード）
- 社員マスタ変更画面
- 部門マスタ管理画面
- コード検索機能
- 基本的なナビゲーション機能

**実装状況**: 全機能完全実装済み。詳細は [`docs/specifications/feature-specifications.md`](feature-specifications.md) を参照。

### 1.3 技術仕様
- **フレームワーク**: .NET 8 Blazor Server
- **UI**: MudBlazor v8.10.0（Material Designベース）
- **アーキテクチャ**: レイヤードアーキテクチャ + DDD原則
- **データ**: スレッドセーフインメモリストア
- **認証**: Blazor Server最適化インメモリ認証

**技術詳細**: [`docs/architecture/technology-stack.md`](../architecture/technology-stack.md) および [`docs/architecture/technical-achievements.md`](../architecture/technical-achievements.md) を参照。

## 2. 機能要件

### 2.1 ログイン機能
- **目的**: アプリケーションへのアクセス制御
- **認証方式**: ID/パスワードによる簡易認証
- **デモ用アカウント**: 
  - 管理者: admin / password
  - 一般ユーザー: user / password

### 2.2 ホーム画面（ダッシュボード）機能
- **目的**: システム全体の概要とメインメニューの提供
- **機能**: リアルタイム統計情報表示、機能メニューへのクイックアクセス
- **特徴**:
  - MudBlazorによるモダンなカードレイアウト
  - 社員数・部署数のリアルタイム統計表示
  - ホバーエフェクト付きのインタラクティブなメニューカード
  - プログレスバーによる視覚的な社員数表示
  - パンくずナビゲーション
- **構成**: レスポンシブ対応の2x2カードグリッドレイアウト
- **ナビゲーション**: 社員マスタ管理、部門マスタ管理、コード検索への直接アクセス

### 2.3 社員マスタ管理機能
- **目的**: 社員情報の表示・編集のイメージ確認
- **対象データ**: 氏名、社員番号、部署、役職、メールアドレス等

### 2.4 部門マスタ管理機能
- **目的**: 部門情報の管理とCRUD操作のイメージ確認
- **機能**: 部門一覧表示、新規追加、編集、削除機能
- **特徴**:
  - 統計ダッシュボード（総部門数、有効部門、責任者設定済、最終更新日）
  - フィルタリング・ソート機能付きデータグリッド
  - **責任者選択機能**: 社員マスタ連携による責任者選択
    - 社員コード・名前による検索機能
    - オートコンプリート形式での社員選択
    - 選択した社員の自動情報反映（名前・社員番号）
    - 存在確認バリデーション
  - 安全な削除機能（所属社員確認）
  - モーダルダイアログによる作成・編集
- **対象データ**: 部署コード、部署名、責任者（社員マスタ連携）、部署区分、設立日、内線番号、説明
- **操作**: CRUD操作（作成、表示、編集、削除）の完全実装

## 3. 画面仕様

**画面レイアウト詳細**: [`docs/specifications/ui-specifications.md`](ui-specifications.md) を参照。

**技術実装詳細**: [`docs/architecture/technical-achievements.md`](../architecture/technical-achievements.md) を参照。

### 3.1 ログイン画面
- **デモアカウント**: admin/password、user/password
- **認証方式**: ID/パスワードによる簡易認証
- **機能**: エンターキー対応、認証成功/失敗時のメッセージ表示

### 3.2 ホーム画面（ダッシュボード）
- **レイアウト**: 2x2カードグリッドレイアウト（レスポンシブ対応）
- **統計情報**: リアルタイム社員数・部署数表示
- **ナビゲーション**: 社員マスタ管理、部門マスタ管理への直接アクセス
- **UI特徴**: ホバーエフェクト、プログレスバー、Material Designアイコン

### 3.3 社員マスタ変更画面
- **対象データ**: 氏名、社員番号、部署、役職、入社日、メールアドレス、電話番号
- **操作**: 表示、編集、保存（一時的）
- **機能**: 入力検証、パンくずナビゲーション、レスポンシブUI

### 3.4 部門マスタ管理画面
- **機能**: 部署情報の完全なCRUD操作
- **統計ダッシュボード**: 総部門数、有効部門数、責任者設定済み部門数、最終更新日
- **データ表示**: 高機能DataGrid（フィルタ、ソート、ページング）
- **安全機能**: 削除時の安全性チェック（所属社員数確認）
- **UI特徴**: モーダルダイアログ、Snackbar通知、パンくずナビゲーション

## 4. モックデータ

### 4.1 社員データ
```
社員番号: EMP001
氏名: 山田太郎
部署: 営業部
役職: 主任
入社日: 2020/04/01
Email: yamada@company.com
電話番号: 03-1234-5678
```

### 4.2 マスタデータ
- **部署**: 営業部、開発部、総務部、人事部
- **役職**: 部長、課長、主任、一般

## 5. 画面遷移

```
[ログイン画面] → [認証処理] → [ホーム画面（ダッシュボード）]
                      ↓                    ↓
                 [エラー表示]         [メニュー選択]
                                          ↓
                              ┌─────────────────┐
                              ↓                 ↓
                      [社員マスタ画面]   [部門マスタ画面]
                              ↓               ↓
                          [ログアウト] ← ← ← ← ← ┘
                              ↓               ↓
                        [コード検索画面] ← ← ← ┘
                              ↓
                        [ログイン画面]
```

### 5.1 遷移詳細
- **ログイン成功**: ログイン画面 → ホーム画面
- **ホーム画面**: システムの中心ハブとして機能
- **社員マスタ**: ホーム画面 → 社員マスタ変更画面
- **部門マスタ**: ホーム画面 → 部門マスタ管理画面（実装済み）
- **コード検索**: ホーム画面 → コード検索画面（実装済み）
- **ログアウト**: 各画面 → ログイン画面

## 6. エラーハンドリング

- **認証関連**: 認証失敗、必須入力エラー、未認証時の自動リダイレクト
- **入力検証**: 必須項目チェック、メールアドレス形式チェック
- **操作フィードバック**: 成功/失敗メッセージのSnackbar表示
- **例外処理**: 詳細なエラーログとユーザー向けメッセージ

**詳細なエラーハンドリング仕様**: [`docs/specifications/feature-specifications.md`](feature-specifications.md) を参照。

## 7. デザイン要件

- **UIフレームワーク**: MudBlazor Material Design
- **レスポンシブ**: デスクトップ、タブレット対応
- **カラーパレット**: Material Design色彩システム
- **ユーザビリティ**: ホバーエフェクト、ローディング状態、Snackbar通知

**詳細なデザイン仕様**: [`docs/specifications/ui-specifications.md`](ui-specifications.md) を参照。

## 8. アーキテクチャと拡張

### 8.1 現在のアーキテクチャ
- **4層アーキテクチャ**: プレゼンテーション、アプリケーション、ドメイン、インフラ層
- **パターン**: リポジトリパターン、依存性注入、DDD原則
- **データ管理**: スレッドセーフインメモリストア

### 8.2 拡張予定
- **データベース統合**: Entity Framework Core
- **外部認証**: Azure AD、LDAP
- **API拡張**: RESTful API
- **監査機能**: 操作履歴記録

**詳細なアーキテクチャ**: [`docs/architecture/system-architecture.md`](../architecture/system-architecture.md) を参照。

## 9. 実装状況

### 現在の状況（完了）
- **コア機能**: ログイン、ダッシュボード、社員マスタ、部門マスタ管理
- **技術基盤**: レイヤードアーキテクチャ、認証システム、レスポンシブUI
- **高機能**: データグリッド、統計ダッシュボード、コード検索

### 今後の拡張
- 社員一覧・検索機能
- 権限管理システム
- データベース連携

**実装詳細**: [`docs/specifications/feature-specifications.md`](feature-specifications.md) および [`docs/architecture/technical-achievements.md`](../architecture/technical-achievements.md) を参照。

---
**作成日**: 2025-07-21  
**最終更新日**: 2025-08-03  
**版数**: 6.0  
**作成者**: Claude Code  
**更新内容**: ファイルサイズ最適化 - 重複内容削除、UI仕様書分離、詳細情報の他ファイルへの参照化